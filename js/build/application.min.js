"use strict";var Add=React.createClass({displayName:"Add",componentDidMount:function(){ReactDOM.findDOMNode(this.refs.name).focus()},onBtnClickHandler:function(a){a.preventDefault();var b=ReactDOM.findDOMNode(this.refs.name),c=ReactDOM.findDOMNode(this.refs.surname),d=ReactDOM.findDOMNode(this.refs.adress),e=ReactDOM.findDOMNode(this.refs.tel),f=ReactDOM.findDOMNode(this.refs.email),g=ReactDOM.findDOMNode(this.refs.sex),h=[{name:b.value,surname:c.value,adress:d.value,tel:e.value,email:f.value,sex:g.value}];window.events.emit("Card.add",h),b.value="",c.value="",d.value="",e.value="",f.value="",g.value=""},render:function(){return React.createElement("form",{className:"add"},React.createElement("input",{type:"text",className:"add__name",defaultValue:"",placeholder:"Ваше имя",ref:"name"}),React.createElement("input",{className:"add__surname",defaultValue:"",placeholder:"Ваша фамилия",ref:"surname"}),React.createElement("input",{className:"add__adress",defaultValue:"",placeholder:"Ваш адрес",ref:"adress"}),React.createElement("input",{className:"add__tel",defaultValue:"",placeholder:"Ваш телефон",ref:"tel"}),React.createElement("input",{className:"add__email",defaultValue:"",placeholder:"Ваша фамилия",ref:"email"}),React.createElement("select",{className:"add__sex",placeholder:"Ваша группа",ref:"sex"},React.createElement("option",{value:""}),React.createElement("option",{value:"male"},"male"),React.createElement("option",{value:"female"},"female")),React.createElement("button",{className:"add__btn",onClick:this.onBtnClickHandler,ref:"alert_button"},"Создать контакт"))}}),App=React.createClass({displayName:"App",getInitialState:function(){return{card:contacs}},componentDidMount:function(){var a=this;window.events.addListener("Card.add",function(b){var c=b.concat(contacs);a.setState({card:c})}),window.events.addListener("Card.del",function(b){var c=contacs.splice(b,1);a.setState(c)}),window.events.addListener("Card.edit",function(b,c){var d=contacs[b]=c;a.setState(d)})},componentWillUnmount:function(){window.events.removeListener("Card.add")},render:function(){return React.createElement("div",{className:"app"},React.createElement(Add,null),React.createElement(FilterOptions,{data:this.state.card}))}}),Card=React.createClass({displayName:"Card",getInitialState:function(){return{showResults:-1}},remove:function(a){window.events.emit("Card.del",a)},edit:function(a){this.setState({showResults:a})},onBtnClickHandler:function(a,b){b.preventDefault();var c=ReactDOM.findDOMNode(this.refs.nameCard),d=ReactDOM.findDOMNode(this.refs.surnameCard),e=ReactDOM.findDOMNode(this.refs.adressCard),f=ReactDOM.findDOMNode(this.refs.telCard),g=ReactDOM.findDOMNode(this.refs.emailCard),h=ReactDOM.findDOMNode(this.refs.emailCard),i={name:c.value,surname:d.value,adress:e.value,tel:f.value,email:g.value,sex:h.value};window.events.emit("Card.edit",a,i),this.state.showResults=-1},render:function(){var a,b=this,c=this.props.data.map(function(c,d){return a=b.state.showResults==d?React.createElement("div",{className:"cards",ref:"card",key:d},React.createElement("form",{className:"cards"},React.createElement("input",{type:"text",className:"add__name",defaultValue:c.name,placeholder:"Ваше имя",ref:"nameCard"}),React.createElement("input",{className:"add__surname",defaultValue:c.surname,placeholder:"Ваша фамилия",ref:"surnameCard"}),React.createElement("input",{className:"add__adress",defaultValue:c.adress,placeholder:"Ваш адрес",ref:"adressCard"}),React.createElement("input",{className:"add__tel",defaultValue:c.tel,placeholder:"Ваш телефон",ref:"telCard"}),React.createElement("input",{className:"add__email",defaultValue:c.email,placeholder:"Ваша фамилия",ref:"emailCard"}),React.createElement("select",{className:"add__sex",placeholder:"Ваша группа",ref:"sexCard"},React.createElement("option",{value:""}),React.createElement("option",{value:"male"},"male"),React.createElement("option",{value:"female"},"female")),React.createElement("button",{className:"add__btn",onClick:b.onBtnClickHandler.bind(b,d),ref:"alert_button"},"Изменить"))):React.createElement("div",{className:"cards",ref:"carder",key:d},React.createElement("p",{className:"card__name"},"Имя: ",c.name),React.createElement("p",{className:"card__surname"},"Фамилия: ",c.surname),React.createElement("p",{className:"card__adress"},"Адрес: ",c.adress),React.createElement("p",{className:"card__tel"},"Телефон: ",c.tel),React.createElement("p",{className:"card__email"},"Email: ",c.email),React.createElement("button",{onClick:b.edit.bind(b,d)},"Edit"),React.createElement("button",{onClick:b.remove.bind(b,d)},"Удалить"))});return React.createElement("div",{className:"card"},c)}}),FilterOptions=React.createClass({displayName:"FilterOptions",getInitialState:function(){return{data:this.props.data}},handleChange:function(a){var b=a.target.value;if(""!=b){var c=this.props.data.filter(function(a){return a.sex===b});this.setState({data:c})}else this.setState({data:this.props.data})},render:function(){return React.createElement("div",null,React.createElement("select",{id:"sex",onChange:this.handleChange},React.createElement("option",{value:""}),React.createElement("option",{value:"male"},"male"),React.createElement("option",{value:"female"},"female")),React.createElement(Card,{data:this.state.data}))}}),contacs=[{name:"Ian",surname:"Gallagher",adress:"abc sjda",tel:"+134554334",email:"goog@gmail.com",sex:"male"},{name:"Fiona",surname:"Gallagher",adress:"abc sjda",tel:"+134554334",email:"trolo@gmail.com",sex:"female"}];window.events=new EventEmitter,ReactDOM.render(React.createElement(App,null),document.getElementById("root"));